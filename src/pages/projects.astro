---
import Project from "../components/Project.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
const allProjects = await Astro.glob("../pages/projects/*.md");

// sort allProjects by priority (low to high)
allProjects.sort((a, b) => {
  return a.frontmatter.priority - b.frontmatter.priority;
});

const pageTitle = "Projects";
---

<BaseLayout pageTitle={pageTitle}>
  <p>Here's a list of projects I've worked on over the years</p>
  <ul>
    {
      allProjects.map((project) => (
        <div id={project.url}>
          <Project project={project} class="project" />
        </div>
      ))
    }
  </ul>
</BaseLayout>

<style>
  div {
    width: 100%;
    height: 100%;
    margin-bottom: 20px;
  }

  div:last-child {
    margin-bottom: 0;
  }

  ul {
    list-style: none;
    padding: 15px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
</style>
